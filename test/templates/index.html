<!DOCTYPE html>
<html>

    <head>
        <title>MaskPatrol</title>
        <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
        <meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="../static/main.css" />
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=DM+Sans&display=swap">
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">

    </head>
    <body>
        <nav>
            <ul>
                <li><a href="index.html">
                        <img src="../static/images/maskpatrol_logo.png" alt="Home">
                    </a>
                </li>
                <li>
                    <a href="index.html">
                        <img class="nav-button nav-vid {{ 'nav-active' if request.path == url_for('index') }}" src="../static/images/On.svg" alt="Video">
                    </a>
                </li>
                <li>
                    <a href="overview.html">
                        <img class="nav-button nav-about {{ 'nav-active' if request.path == url_for('about') }}" src="../static/images/Mark.svg" alt="About">
                    </a>
                </li>
            </ul>
        </nav>

        <div class="content">                 
                <div class="row">

                    <!-- for the video stream -->
                    <div class="container-vid vid col-lg-8">
                        <div class="title mt-3">Live Stream Video Feed</div>
                        <div class="bubble">
                            <img class="img-vid" src="{{ url_for('video_feed') }}">
                        </div>
                    </div>

                    <!-- for the logs -->
                    <div class="log-column container-vid col-lg-4">
                        <div class="container-hist">
                            <div class="title mt-3">Overview of Today's Logs</div>
                            <div class="bubble" style="padding: 2px;">
                                <div class="tally" id="tally">
                                    <div>
                                      <div style="font-size: 42px;" id="tally-mask">2</div>
                                      <div>Not Wearing Mask Properly</div>
                                    </div>
                                    <div>
                                      <div style="font-size: 42px;" id="tally-distancing">4</div>
                                      <div>Not Social Distancing</div>
                                    </div>
                                  </div><!--idk pa kung paano nalagay code-->
                            </div>
                        </div>
                        <div class="container-log">
                            <div class="title mt-3">History Logs</div>
                            <div class="bubble">
                                <div class="logs" id="logs"></div>
                            </div>
                        </div>
                    </div>
                </div>
         </div>
</body>
</html>

<script>
    var source = new EventSource("{{ url_for('logs') }}");
    source.onmessage = function(event) {
        document.getElementById("logs").innerHTML += event.data + "<br>";
    }
</script>

